###### API_YAMDB

#### Описание

Данный проект является учебной работой по теме **"API"** группы #7 (когорта 72) в составе:
- Дмитрий Семенов
- Алена Белинцева
- Вероника Зайцева

В проекте реализованы следующие технологии:
- Python v3.9
- Django framework v3.2
- Django REST framowork v3.12.4
- JWT-токены для авторизации пользователей: Simplejwt v5.3.1, PyJWT v2.1.0


#### Проект представляет из себя API-сервис, позволяющий пользователям:
- получать информацию о различных произведениях.
- оставлять отзывы на произведения.
- ставить произведению оценку в диапазоне от одного до десяти. На одно произведение пользователь может оставить только один отзыв.
- оставлять комментарии к отзывам.

Реализована выборка произведений по жанру и категориям, фильтрация результатов, поиск по полям.
Из пользовательских оценок формируется усреднённая оценка произведения — рейтинг. Рейтинг отбражается при GET-запросе к произведению.

Пользователи api-сервиса имеют различные привелегии, поределяемые их ролью:
- Аноним
- Аутентифицированный пользователь
- Модератор (moderator)
- Администратор (admin)
- Суперюзер

Полная документация по работе API в формате ReDoc после запуска тестового веб-сервера доступна по адресу:
(http://127.0.0.1:8000/redoc/)

### Проект в настоящее время доступен локально. Для запуска проекта необходимо:
1. Скачать проект с репозитория на платформе GitHub
2. Развернуть виртуальное окружение, рекомендуемая версия python: `python3 -m venv venv` (`python` для ОС Windows, MacOS)
3. Установить зависимости из файла requirements.txt: `pip install -r requirements.txt`
4. Выполнить миграции БД командами `python3 manage.py makemigrations`, `python3 manage.py migrate` (`python` для ОС Windows, MacOS)
5. Запустить тестовый веб-сервер командой `python3 manage.py runserver` (`python` для ОС Windows, MacOS)
6. В браузере пройти по адресу http://127.0.0.1:8000/api/v1/


#### Примеры запросов к API

- **Получение списка всех произведений**:
```
GET http://127.0.0.1:8000/api/v1/titles/
```

*Пример ответа:*
```
{
    "count": 0,
    "next": "string",
    "previous": "string",
    "results": [
        {
            "id": 0,
            "name": "string",
            "year": 0,
            "rating": 0,
            "description": "string",
            "genre": [
                {
                    "name": "string",
                    "slug": "string"
                }
            ],
            "category": {
                "name": "string",
                "slug": "string"
            }
        }
    ]
}
```


- **Добавление новой категории**:
```
POST http://127.0.0.1:8000/api/v1/categories/
{
    "name": "string",
    "slug": "string"
}
```

*Пример ответа:*
```
{
    "name": "string",
    "slug": "string"
}
```


- **Изменение данных пользователя по username**:
```
PATCH http://127.0.0.1:8000/api/v1/users/{username}/
{
    "username": "string",
    "email": "user@example.com",
    "first_name": "string",
    "last_name": "string",
    "bio": "string",
    "role": "user"
}
```

*Пример ответа:*
```
{
    "username": "string",
    "email": "user@example.com",
    "first_name": "string",
    "last_name": "string",
    "bio": "string",
    "role": "user"
}
```


- **Получение JWT-токена**:
```
POST http://127.0.0.1:8000/api/v1/auth/token/
{
    "username": "string",
    "confirmation_code": "string"
}
```

*Пример ответа:*
```
{
    "token": "string"
}
```
